# ========================================
# LMS ESID - Environment Variables Template
# ========================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to Git (it contains secrets)

# ========================================
# SUPABASE CONFIGURATION
# ========================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Service Role Key (for server-side operations) - KEEP SECRET!
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ========================================
# DEVELOPMENT SETTINGS
# ========================================
NODE_ENV=development

# ========================================
# AUTHENTICATION SETTINGS
# ========================================
# Set to 'true' to use mock authentication in development (default: false - use real auth)
NEXT_PUBLIC_USE_MOCK_AUTH=false

# ========================================
# SSO INTEGRATION - INFO HUB
# ========================================

# LMS Application URL (CRITICAL for OAuth redirect_uri consistency)
# MUST match the domain where LMS is deployed
# Development: http://localhost:3000
# Staging: https://lms-staging.zeabur.app
# Production: https://lms.kcislk.ntpc.edu.tw
NEXT_PUBLIC_APP_URL=http://localhost:3000

# OAuth 2.0 + PKCE Configuration
NEXT_PUBLIC_INFOHUB_OAUTH_CLIENT_ID=your-oauth-client-id
INFOHUB_OAUTH_CLIENT_SECRET=your-oauth-client-secret

# Info Hub OAuth Endpoints
# Development: http://localhost:8080
# Staging: https://next14-landing.zeabur.app
# Production: https://infohub.kcislk.ntpc.edu.tw
NEXT_PUBLIC_INFOHUB_AUTH_URL=https://next14-landing.zeabur.app/api/oauth/authorize
INFOHUB_TOKEN_URL=https://next14-landing.zeabur.app/api/oauth/token

# Webhook Configuration
LMS_WEBHOOK_SECRET=your-webhook-secret-here
NEXT_PUBLIC_LMS_WEBHOOK_URL=http://localhost:3000/api/webhook/user-sync

# SSO Feature Flags
NEXT_PUBLIC_ENABLE_SSO=true
NEXT_PUBLIC_ENABLE_EMAIL_PASSWORD_AUTH=true

# ========================================
# DEPLOYMENT ENVIRONMENTS
# ========================================

# DEVELOPMENT (.env.local)
# NEXT_PUBLIC_APP_URL=http://localhost:3000
# NEXT_PUBLIC_INFOHUB_AUTH_URL=http://localhost:8080/api/oauth/authorize
# INFOHUB_TOKEN_URL=http://localhost:8080/api/oauth/token
# NEXT_PUBLIC_LMS_WEBHOOK_URL=http://localhost:3000/api/webhook/user-sync

# STAGING (.env.local or Zeabur Environment Variables)
# NEXT_PUBLIC_APP_URL=https://lms-staging.zeabur.app
# NEXT_PUBLIC_INFOHUB_AUTH_URL=https://next14-landing.zeabur.app/api/oauth/authorize
# INFOHUB_TOKEN_URL=https://next14-landing.zeabur.app/api/oauth/token
# NEXT_PUBLIC_LMS_WEBHOOK_URL=https://lms-staging.zeabur.app/api/webhook/user-sync

# PRODUCTION (.env.local or Zeabur Environment Variables)
# NEXT_PUBLIC_APP_URL=https://lms.kcislk.ntpc.edu.tw
# NEXT_PUBLIC_INFOHUB_AUTH_URL=https://infohub.kcislk.ntpc.edu.tw/api/oauth/authorize
# INFOHUB_TOKEN_URL=https://infohub.kcislk.ntpc.edu.tw/api/oauth/token
# NEXT_PUBLIC_LMS_WEBHOOK_URL=https://lms.kcislk.ntpc.edu.tw/api/webhook/user-sync
